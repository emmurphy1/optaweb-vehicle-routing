<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="The OptaPlanner Team">
<title>Using OptaWeb Vehicle Routing</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Using OptaWeb Vehicle Routing</h1>
<div class="details">
<span id="author" class="author">The OptaPlanner Team</span><br>
<span id="email" class="email"><a href="https://www.optaplanner.org/community/team.html" class="bare">https://www.optaplanner.org/community/team.html</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#vrp-con_{context}">1. What is OptaWeb Vehicle Routing?</a></li>
<li><a href="#install-java-vrp-proc_{context}">2. Install Java 8 or higher</a></li>
<li><a href="#proc-download-ovr_{context}">3. Download the distribution archive</a></li>
<li><a href="#runlocally-con_{context}">4. Run OptaWeb Vehicle Routing locally using the runLocally.sh script</a>
<ul class="sectlevel2">
<li><a href="#run-locally-qs-proc_{context}">4.1. Run the OptaWeb Vehicle Routing runLocally.sh script in quick start mode</a></li>
<li><a href="#run-locally-interactive-proc_{context}">4.2. Run the OptaWeb Vehicle Routing runLocally.sh script in interactive mode</a></li>
<li><a href="#run-locally-noninteractive-proc_{context}">4.3. Run the OptaWeb Vehicle Routing runLocally.sh script in non-interactive mode</a></li>
<li><a href="#run-locally-airdistance-proc_{context}">4.4. Run the OptaWeb Vehicle Routing runLocally.sh script in air distance mode</a></li>
<li><a href="#adjust-data-dir-proc_{context}">4.5. Update the data directory</a></li>
</ul>
</li>
<li><a href="#run-vrp-manually-proc_{context}">5. Configure and run OptaWeb Vehicle Routing manually</a></li>
<li><a href="#vrp-run-openshift-proc_{context}">6. Run OptaWeb Vehicle Routing on Red Hat Open Shift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#vrp-update-deployed-changes-proc_{context}">6.1. Updating the deployed OptaWeb Vehicle Routing application with local changes</a></li>
</ul>
</li>
<li><a href="#use-vrp-con_{context}">7. Using OptaWeb Vehicle Routing</a>
<ul class="sectlevel2">
<li><a href="#vrp-create-route-proc_{context}">7.1. Creating a route</a></li>
<li><a href="#vrp-other-actions-proc_{context}">7.2. Viewing and setting other details</a></li>
<li><a href="#vrp-custom-data-sets-proc_{context}">7.3. Creating custom data sets with OptaWeb Vehicle Routing</a></li>
<li><a href="#vrp-troubleshooting-proc_{context}">7.4. Troubleshooting OptaWeb Vehicle Routing</a></li>
</ul>
</li>
<li><a href="#_optaweb_vehicle_routing_development_guide">8. OptaWeb Vehicle Routing development guide</a>
<ul class="sectlevel2">
<li><a href="#vrp-structure-con_{context}">8.1. OptaWeb Vehicle Routing project structure</a></li>
<li><a href="#vrp-backend-con_{context}">8.2. The OptaWeb Vehicle Routing back end module</a>
<ul class="sectlevel3">
<li><a href="#vrp-backend-spring-proc_{context}">8.2.1. Running the OptaWeb Vehicle Routing back end module using the Spring Boot Maven plugin</a></li>
<li><a href="#vrp-backend-intellij-proc_{context}">8.2.2. Running the OptaWeb Vehicle Routing back end module from IntelliJ IDEA</a></li>
<li><a href="#vrp-auto-restart-con_{context}">8.2.3. Spring Boot automatic restart</a></li>
<li><a href="#vrp-backend-config-proc_{context}">8.2.4. Setting OptaWeb Vehicle Routing back end module configuration properties</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph normal">
<p>As a developer, you can use OptaWeb Vehicle Routing to optimize your vehicle fleet deliveries.
In this guide, you will create and run a sample OptaWeb Vehicle Routing application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vrp-con_{context}"><a class="anchor" href="#vrp-con_{context}"></a><a class="link" href="#vrp-con_{context}">1. What is OptaWeb Vehicle Routing?</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main purpose of many businesses is to transport various types of cargo.
The goal of these businesses is to deliver a piece of cargo from the loading point to a destination and use its vehicle fleet in the most efficient way. One of the main objectives is to minimize travel costs which are measured in either time or distance.</p>
</div>
<div class="paragraph">
<p>This type of optimization problem is referred to as the vehicle routing problem (VRP) and has many variations.</p>
</div>
<div class="paragraph">
<p>OptaPlanner can solve many of these vehicle routing variations and provides solution examples.
OptaPlanner enables developers to focus on modeling business rules and requirements instead of learning <a href="https://en.wikipedia.org/wiki/Constraint_programming">constraint programming</a> theory.
OptaWeb Vehicle Routing expands the vehicle routing capabilities of OptaPlanner by providing a reference implementation that answers questions such as these:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Where do I get the distances and travel times?</p>
</li>
<li>
<p>How do I visualize the solution on a map?</p>
</li>
<li>
<p>How do I build an application that runs in the cloud?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>OptaWeb Vehicle Routing uses OpenStreetMap (OSM) data files. For information about OpenStreetMap, see the <a href="https://wiki.openstreetmap.org/wiki/About_OpenStreetMap">OpenStreetMap</a> web site.</p>
</div>
<div class="paragraph">
<p>Use the following definitions when working with OptaWeb Vehicle Routing:</p>
</div>
<div class="paragraph">
<p><strong>Region</strong>:  An arbitrary area on the map of Earth, represented by an OSM file. A region can be a country, a city, a continent, or a group of countries that are frequently used together. For example, the DACH region includes Germany (DE), Austria (AT), and Switzerland (CH).</p>
</div>
<div class="paragraph">
<p><strong>Country code</strong>: A two-letter code assigned to a country by the ISO-3166 standard. You can use a country code to filter geosearch results. Because you can work with a region that spans multiple countries (for example, the DACH region), OptaWeb Vehicle Routing accepts a list of country codes so that geosearch filtering can be used with such regions. For a list of country codes, see <a href="https://www.iso.org/iso-3166-country-codes.html"><em>ISO 3166 Country Codes</em></a></p>
</div>
<div class="paragraph">
<p><strong>Geosearch</strong>: A type of query where you provide an address or a place name of a region as the search keyword and receive a number of GPS locations as a result. The number of locations returned depends on how unique the search keyword is. Because most place names are not unique, filter out nonrelevant results by including only places in the country or countries that are in your working region.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-java-vrp-proc_{context}"><a class="anchor" href="#install-java-vrp-proc_{context}"></a><a class="link" href="#install-java-vrp-proc_{context}">2. Install Java 8 or higher</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Java SE 8 or higher must be installed on your system before you can use OptaWeb Vehicle Routing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is recommended that you install Java SE Development Kit (JDK) because it is necessary in order to build OptaWeb Vehicle Routing from the source.
However, if you have a binary distribution of OptaWeb Vehicle Routing, you only need the Java SE Runtime Environment (JRE).
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To check the current Java installation, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">java -version</code></pre>
</div>
</div>
</li>
<li>
<p>If necessary, install OpenJDK 8.</p>
<div class="ulist">
<ul>
<li>
<p>To install OpenJDK 8 on Fedora, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">sudo dnf install java-1.8.0-openjdk-devel</code></pre>
</div>
</div>
</li>
<li>
<p>To install OpenJDK on other platforms, follow instructions at <a href="https://openjdk.java.net/install/" class="bare">https://openjdk.java.net/install/</a>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="proc-download-ovr_{context}"><a class="anchor" href="#proc-download-ovr_{context}"></a><a class="link" href="#proc-download-ovr_{context}">3. Download the distribution archive</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To quickly evaluate OptaWeb Vehicle Routing without having to set up build tools, download the OptaWeb Vehicle Routing distribution archive, available from the OptaPlanner website.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you want to modify OptaWeb Vehicle Routing and build it yourself or contribute to upstream, see <a href="development-guide.html#development-guide">development-guide.html</a>.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Go to <a href="https://www.optaplanner.org/download/download.html" class="bare">https://www.optaplanner.org/download/download.html</a>
and click the <strong>OptaWeb Vehicle Routing</strong> tab.</p>
</li>
<li>
<p>Click <strong>Download OptaWeb Vehicle Routing 7.41.0.Final</strong>.</p>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="download.png" alt="OptaPlanner download page at www.optaplanner.org">
</div>
<div class="title">Figure 1. OptaPlanner download page</div>
</div>
</li>
<li>
<p>Extract the downloaded distribution ZIP file.
The archive contains source files and a binary build of OptaWeb Vehicle Routing as well as the OptaWeb Vehicle Routing documentation.</p>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="distribution.png" alt="Content of the OptaWeb Vehicle Routing distribution archive">
</div>
<div class="title">Figure 2. Content of the OptaWeb Vehicle Routing distribution archive</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="runlocally-con_{context}"><a class="anchor" href="#runlocally-con_{context}"></a><a class="link" href="#runlocally-con_{context}">4. Run OptaWeb Vehicle Routing locally using the runLocally.sh script</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Linux users can use the <code>runLocally.sh</code> Bash script to run OptaWeb Vehicle Routing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>runLocally.sh</code> script does not run on macOS. If you cannot use the <code>runLocally.sh</code> script, see <a href="#run-vrp-manually-proc_{context}">Configure and run OptaWeb Vehicle Routing manually</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>runLocally.sh</code> script automates the following setup steps that otherwise must be carried out manually:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create the data directory.</p>
</li>
<li>
<p>Download selected OpenStreetMap (OSM) files from Geofabrik.</p>
</li>
<li>
<p>Try to associate a country code with each downloaded OSM file automatically.</p>
</li>
<li>
<p>Build the project if the standalone JAR file does not exist.</p>
</li>
<li>
<p>Launch OptaWeb Vehicle Routing by taking a single region argument or by selecting the region interactively.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the following sections for instructions about executing the <code>runLocally.sh</code> script:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#run-locally-qs-proc_{context}">Run the OptaWeb Vehicle Routing runLocally.sh script in quick start mode</a></p>
</li>
<li>
<p><a href="#run-locally-interactive-proc_{context}">Run the OptaWeb Vehicle Routing runLocally.sh script in interactive mode</a></p>
</li>
<li>
<p><a href="#run-locally-noninteractive-proc_{context}">Run the OptaWeb Vehicle Routing runLocally.sh script in non-interactive mode</a></p>
</li>
<li>
<p><a href="#run-locally-airdistance-proc_{context}">Run the OptaWeb Vehicle Routing runLocally.sh script in air distance mode</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="run-locally-qs-proc_{context}"><a class="anchor" href="#run-locally-qs-proc_{context}"></a><a class="link" href="#run-locally-qs-proc_{context}">4.1. Run the OptaWeb Vehicle Routing runLocally.sh script in quick start mode</a></h3>
<div class="paragraph">
<p>The easiest way to get started with OptaWeb Vehicle Routing is to run the <code>runLocally.sh</code> script without any arguments.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Internet access is available.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Enter the following command in the project root directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> ./runLocally.sh</code></pre>
</div>
</div>
</li>
<li>
<p>If prompted to create the <code>.optaweb-vehicle-routing</code> directory, enter <code>y</code>. You are prompted to create this directory the first time you run the script.</p>
</li>
<li>
<p>If prompted to download an OSM file, enter <code>y</code>. The first time that you run the script, OptaWeb Vehicle Routing downloads the Belgium OSM file.</p>
<div class="paragraph">
<p>The application starts after the OSM file is downloaded.</p>
</div>
</li>
<li>
<p>To open the OptaWeb Vehicle Routing user interface, enter the following URL in a web browser:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>http://localhost:8080</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The first time that you run the script, it will take  a few minutes to start because the OSM file must be imported by GraphHopper and stored as a road network graph.
The next time you run the <code>runlocally.sh</code> script, load times will be significantly faster.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Next steps</div>
<p><a href="#use-vrp-con_{context}">Using OptaWeb Vehicle Routing</a></p>
</div>
</div>
<div class="sect2">
<h3 id="run-locally-interactive-proc_{context}"><a class="anchor" href="#run-locally-interactive-proc_{context}"></a><a class="link" href="#run-locally-interactive-proc_{context}">4.2. Run the OptaWeb Vehicle Routing runLocally.sh script in interactive mode</a></h3>
<div class="paragraph">
<p>Use interactive mode to see the list of downloaded OSM files and country codes assigned to each region.
You can use the interactive mode to download additional OSM files from Geofabrik without visiting the website and choosing a destination for the download.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Internet access is available.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Change directory to project root directory.</p>
</li>
<li>
<p>Enter the following command to run the script in interactive mode:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>./runLocally.sh -i</code></pre>
</div>
</div>
</li>
<li>
<p>At the <code>Your choice</code> prompt, enter <code>d</code> to display the download menu. A list of previously downloaded regions appears followed by a list of regions that you can download.</p>
</li>
<li>
<p>Optional: Select a region from the list of previously downloaded regions:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the number associated with a region in the list of downloaded regions.</p>
</li>
<li>
<p>Press the Enter key.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optional: Download a region:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the number associated with the region that you want to download. For example, to select the map of Europe, enter <code>5</code>.</p>
</li>
<li>
<p>To download the map, enter <code>d</code> then press the Enter key.</p>
</li>
<li>
<p>To download a specific region within the map, enter <code>e</code> then enter the number associated with the region that you want to download, and press the Enter key.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Using large OSM files</div>
<div class="paragraph">
<p>For the best user experience, use smaller regions such as individual European or US states.
Using OSM files larger than 1 GB will require significant RAM size and take a lot of time (up to several hours) for the initial processing.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The application starts after the OSM file is downloaded.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To open the OptaWeb Vehicle Routing user interface, enter the following URL in a web browser:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>http://localhost:8080</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Next steps</div>
<p><a href="#use-vrp-con_{context}">Using OptaWeb Vehicle Routing</a></p>
</div>
</div>
<div class="sect2">
<h3 id="run-locally-noninteractive-proc_{context}"><a class="anchor" href="#run-locally-noninteractive-proc_{context}"></a><a class="link" href="#run-locally-noninteractive-proc_{context}">4.3. Run the OptaWeb Vehicle Routing runLocally.sh script in non-interactive mode</a></h3>
<div class="paragraph">
<p>Use OptaWeb Vehicle Routing in non-interactive mode to start OptaWeb Vehicle Routing with a single command that includes an OSM file that you downloaded previously.
This is useful when you want to switch between regions quickly or when doing a demo.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The OSM file for the region that you want to use has been downloaded. For information about downloading OSM files, see <a href="#run-locally-interactive-proc_{context}">Run the OptaWeb Vehicle Routing runLocally.sh script in interactive mode</a>.</p>
</li>
<li>
<p>Internet access is available.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Change to the project root directory.</p>
</li>
<li>
<p>Execute the following command where <code>&lt;OSM_FILE_NAME&gt;</code> is an OSM file that you downloaded previously:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>./runLocally.sh &lt;OSM_FILE_NAME&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Next steps</div>
<p><a href="#use-vrp-con_{context}">Using OptaWeb Vehicle Routing</a></p>
</div>
</div>
<div class="sect2">
<h3 id="run-locally-airdistance-proc_{context}"><a class="anchor" href="#run-locally-airdistance-proc_{context}"></a><a class="link" href="#run-locally-airdistance-proc_{context}">4.4. Run the OptaWeb Vehicle Routing runLocally.sh script in air distance mode</a></h3>
<div class="paragraph">
<p>OptaWeb Vehicle Routing can work in air distance mode that calculates travel times based on the distance between two coordinates.
Use this mode in situations where you need to get OptaWeb Vehicle Routing up and running as quickly as possible and do not want to use an OSM (OpenStreetMap) file.
Air distance mode is only useful if you need to smoke-test OptaWeb Vehicle Routing and you do not need accurate travel times.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Internet access is available.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Change to the project root directory.</p>
</li>
<li>
<p>Run the <code>runLocally.sh</code> script with the <code>--air</code> argument to start OptaWeb Vehicle Routing in air distance mode:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./runLocally.sh --air</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Next steps</div>
<p><a href="#use-vrp-con_{context}">Using OptaWeb Vehicle Routing</a></p>
</div>
</div>
<div class="sect2">
<h3 id="adjust-data-dir-proc_{context}"><a class="anchor" href="#adjust-data-dir-proc_{context}"></a><a class="link" href="#adjust-data-dir-proc_{context}">4.5. Update the data directory</a></h3>
<div class="paragraph">
<p>You can update the data directory that OptaWeb Vehicle Routing  uses if you want to use a different data directory. The default data directory is <code>$HOME/.optaweb-vehicle-routing</code>.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To use a different data directory, at its absolute path to the <code>.DATA_DIR_LAST</code> file in the current data directory.</p>
</li>
<li>
<p>To change country codes associated with a region, edit the corresponding file in the <code>country_codes</code> directory, in the current data directory.</p>
<div class="paragraph">
<p>For example, if you downloaded an OSM file for Scotland and the script fails to guess the country code, set the content of <code>country_codes/scotland-latest</code> to GB.</p>
</div>
</li>
<li>
<p>To remove a region, delete the corresponding OSM file from <code>openstreetmap</code> directory in the data directory and delete the region&#8217;s directory in the <code>graphhopper</code> directory.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="run-vrp-manually-proc_{context}"><a class="anchor" href="#run-vrp-manually-proc_{context}"></a><a class="link" href="#run-vrp-manually-proc_{context}">5. Configure and run OptaWeb Vehicle Routing manually</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The easiest way to run OptaWeb Vehicle Routing is to use the <code>runlocally.sh</code> script. However, if Bash is not available on your system you can manually complete the steps that the <code>runlocally.sh</code> script performs.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Internet access is available.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download routing data.</p>
<div class="paragraph">
<p>The routing engine requires geographical data to calculate the time it takes vehicles to travel between locations.
You must download and store OpenStreetMap (OSM) data files on the local file system before you run OptaWeb Vehicle Routing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The OSM data files are typically between 100 MB to 1 GB and take time to download so it is a good idea to download the files before building or starting the OptaWeb Vehicle Routing application.
</td>
</tr>
</table>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open <code><a href="http://download.geofabrik.de/" class="bare">http://download.geofabrik.de/</a></code> in a web browser.</p>
</li>
<li>
<p>Click a region in the <strong>Sub Region</strong> list, for example <strong>Europe</strong>. The subregion page opens.</p>
</li>
<li>
<p>In the <strong>Sub Regions</strong> table, download the OSM file (<code>.osm.pbf</code>) for a country, for example Belgium.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create the data directory structure.</p>
<div class="paragraph">
<p>OptaWeb Vehicle Routing reads and writes several types of data on the file system.
It reads OSM (OpenStreetMap) files from the <code>openstreetmap</code> directory, writes a road network graph to the <code>graphhopper</code> directory, and persists user data in a directory called <code>db</code>.
Create a new directory dedicated to storing all of these data to make it easier to upgrade to a newer version of OptaWeb Vehicle Routing in the future and continue working with the data you created previously.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create the <code>$HOME/.optaweb-vehicle-routing</code> directory.</p>
</li>
<li>
<p>Create the <code>openstreetmap</code> directory in the <code>$HOME/.optaweb-vehicle-routing</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$HOME/.optaweb-vehicle-routing
└── openstreetmap</code></pre>
</div>
</div>
</li>
<li>
<p>Move all of your downloaded OSM files (files with the extension <code>.osm.pbf</code>) to the <code>openstreetmap</code> directory.</p>
<div class="paragraph">
<p>The rest of the directory structure is created by the OptaWeb Vehicle Routing application when it runs for the first time.
After that, your directory structure is similar to the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$HOME/.optaweb-vehicle-routing

├── db
│   └── vrp.mv.db
├── graphhopper
│   └── belgium-latest
└── openstreetmap
    └── belgium-latest.osm.pbf</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Change directory to the project root directory.</p>
</li>
<li>
<p>To run OptaWeb Vehicle Routing, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -jar optaweb-vehicle-routing-standalone-7.41.0.Final.jar \
--app.persistence.h2-dir=$HOME/.optaweb-vehicle-routing/db \
--app.routing.gh-dir=$HOME/.optaweb-vehicle-routing/graphhopper \
--app.routing.osm-dir=$HOME/.optaweb-vehicle-routing/openstreetmap \
--app.routing.osm-file=&lt;OSM_FILE_NAME&gt; \
--app.region.country-codes=&lt;COUNTRY_CODE_LIST&gt; \</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this command, replace the following variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;OSM_FILE_NAME&gt;</code>: The OSM file for the region that you want to use and that you downloaded previously</p>
</li>
<li>
<p><code>&lt;COUNTRY_CODE_LIST&gt;</code>: A comma-separated list of country codes used to filter geosearch queries. For a list of country codes, see <a href="https://www.iso.org/iso-3166-country-codes.html"><em>ISO 3166 Country Codes</em></a>.</p>
<div class="paragraph">
<p>The application starts after the OSM file is downloaded.</p>
</div>
<div class="paragraph">
<p>In the following example, OptaWeb Vehicle Routing downloads the OSM map of Central America (<code>central-america-latest.osm.pbf</code>) and searches in the countries Belize (BZ) and Guatemala (GT).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -jar optaweb-vehicle-routing-standalone-7.41.0.Final.jar \
--app.persistence.h2-dir=/home/user/.optaweb-vehicle-routing/db \
--app.routing.osm-dir=/home/user/.optaweb-vehicle-routing/openstreetmap \
--app.routing.gh-dir=/home/user/.optaweb-vehicle-routing/graphhopper \
--app.routing.osm-file=central-america-latest.osm.pbf \
--app.region.country-codes=BZ,GT</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>To open the OptaWeb Vehicle Routing user interface, enter the following URL in a web browser:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>http://localhost:8080</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Next steps</div>
<p><a href="#use-vrp-con_{context}">Using OptaWeb Vehicle Routing</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vrp-run-openshift-proc_{context}"><a class="anchor" href="#vrp-run-openshift-proc_{context}"></a><a class="link" href="#vrp-run-openshift-proc_{context}">6. Run OptaWeb Vehicle Routing on Red Hat Open Shift Container Platform</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Linux users can use the <code>runOnOpenShift.sh</code> Bash script to install OptaWeb Vehicle Routing on Red Hat Open Shift Container Platform.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>runOnOpenShift.sh</code> script does not run on macOS.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have access to an OpenShift cluster and the OpenShift command-line interface (<code>oc</code>) has been installed. For information about Red Hat Open Shift Container Platform, see <a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.5/html-single/installing/index"><em>Installing OpenShift Container Platform</em></a>.</p>
</li>
<li>
<p>Internet access is available.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to or start a Red Hat Open Shift Container Platform cluster.</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the following command where <code>&lt;PROJECT_NAME&gt;</code> is the name of your new project:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>oc new-project &lt;PROJECT_NAME&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>If necessary, change to the project root directory.</p>
</li>
<li>
<p>Enter the following command to execute the <code>runOnOpenShift.sh</code> script and download an OpenStreetMap (OSM) file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>./runOnOpenShift.sh &lt;OSM_FILE_NAME&gt; &lt;COUNTRY_CODE_LIST&gt; &lt;OSM_FILE_DOWNLOAD_URL&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this command, replace the following variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;OSM_FILE_NAME&gt;</code>: The name of a file downloaded from <code>&lt;OSM_FILE_DOWNLOAD_URL&gt;</code>.</p>
</li>
<li>
<p><code>&lt;COUNTRY_CODE_LIST&gt;</code>: A comma-separated list of country codes used to filter geosearch queries. For a list of country codes, see <a href="https://www.iso.org/iso-3166-country-codes.html"><em>ISO 3166 Country Codes</em></a>.</p>
</li>
<li>
<p><code>&lt;OSM_FILE_DOWNLOAD_URL&gt;</code>: The URL of an OSM data file in PBF format accessible from OpenShift. The file will be downloaded during backend startup and saved as <code>/deployments/local/&lt;OSM_FILE_NAME&gt;</code>.</p>
<div class="paragraph">
<p>The following example configures OptaWeb Vehicle Routing to filter geosearch results to Belgium and downloads the latest Belgium OSM extract from Geofabrik:</p>
</div>
<div class="paragraph">
<p>In the following example, OptaWeb Vehicle Routing downloads the OSM map of Central America (<code>central-america-latest.osm.pbf</code>) and searches in the countries Belize (BZ) and Guatemala (GT).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>./runOnOpenShift.sh central-america-latest.osm.pbf BZ,GT http://download.geofabrik.de/europe/central-america-latest.osm.pbf</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For help with the <code>runOnOpenShift.sh</code> script, enter <code>./runOnOpenShift.sh --help</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="vrp-update-deployed-changes-proc_{context}"><a class="anchor" href="#vrp-update-deployed-changes-proc_{context}"></a><a class="link" href="#vrp-update-deployed-changes-proc_{context}">6.1. Updating the deployed OptaWeb Vehicle Routing application with local changes</a></h3>
<div class="paragraph">
<p>After you deploy your OptaWeb Vehicle Routing application on Red Hat Open Shift Container Platform, you can update the back end and front end.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>OptaWeb Vehicle Routing has been successfully built with Maven and deployed on OpenShift.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To update the back end, perform the following steps:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Change the source code and build the back end module with Maven.</p>
</li>
<li>
<p>Change to the <code>optaweb-vehicle-routing-backend</code> directory.</p>
</li>
<li>
<p>Enter the following command to start the OpenShift build:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">oc start-build backend --from-dir=. --follow</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To update the front end, perform the following steps:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Change the source code and build the front end module with the <code>npm</code> utility.</p>
</li>
<li>
<p>Change directory to <code>sources/optaweb-vehicle-routing-frontend</code>.</p>
</li>
<li>
<p>Enter the following command to start the OpenShift build:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">oc start-build frontend --from-dir=docker --follow</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Next steps</div>
<p><a href="#use-vrp-con_{context}">Using OptaWeb Vehicle Routing</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-vrp-con_{context}"><a class="anchor" href="#use-vrp-con_{context}"></a><a class="link" href="#use-vrp-con_{context}">7. Using OptaWeb Vehicle Routing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the OptaWeb Vehicle Routing application, you can mark a number of locations on the map.
The first location is assumed to be the depot.
Vehicles must deliver goods from this depot to every other location that you marked.</p>
</div>
<div class="paragraph">
<p>You can set the number of vehicles and the carrying capacity of every vehicle.
However, the route is not guaranteed to use all vehicles.
The application uses as many vehicles as required for an optimal route.</p>
</div>
<div class="paragraph">
<p>The current version has certain limitations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every delivery to a location is supposed to take one point of vehicle capacity.
For example, a vehicle with a capacity of 10 can visit up to 10 locations before returning to the depot.</p>
</li>
<li>
<p>Setting custom names of vehicles and locations is not supported.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="vrp-create-route-proc_{context}"><a class="anchor" href="#vrp-create-route-proc_{context}"></a><a class="link" href="#vrp-create-route-proc_{context}">7.1. Creating a route</a></h3>
<div class="paragraph">
<p>To create an optimal route, use the <strong>Demo</strong> tab of the OptaWeb Vehicle Routing user interface.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>OptaWeb Vehicle Routing is running and you have access to the user interface.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In OptaWeb Vehicle Routing, click <strong>Demo</strong> to open the <strong>Demo</strong> tab.</p>
</li>
<li>
<p>Use the blue minus and plus buttons above the map to set the number of vehicles. Each vehicle has a default capacity of 10.</p>
</li>
<li>
<p>Use the plus button in a square on the map to zoom in as required.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not double-click to zoom in.
A double click also creates a location.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click a location for the depot.</p>
</li>
<li>
<p>Click other locations on the map for delivery points.</p>
</li>
<li>
<p>If you want to delete a location:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hover the mouse cursor over the location to see the location name.</p>
</li>
<li>
<p>Find the location name in the list in the left part of the screen.</p>
</li>
<li>
<p>Click the <strong>X</strong> icon next to the name.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Every time you add or remove a location or change the number of vehicles, the application creates and displays a new optimal route.
If the solution uses several vehicles, the application shows the route for every vehicle in a different color.</p>
</div>
</div>
<div class="sect2">
<h3 id="vrp-other-actions-proc_{context}"><a class="anchor" href="#vrp-other-actions-proc_{context}"></a><a class="link" href="#vrp-other-actions-proc_{context}">7.2. Viewing and setting other details</a></h3>
<div class="paragraph">
<p>You can use other tabs in OptaWeb Vehicle Routing  user interface to view and set additional details.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>OptaWeb Vehicle Routing is running and you have access to the user interface.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Click  the <strong>Vehicles</strong> tab to view, add, and remove vehicles, and also set the capacity for every vehicle.</p>
</li>
<li>
<p>Click  the  <strong>Visits</strong> tab to view and remove locations.</p>
</li>
<li>
<p>Click  the <strong>Route</strong> tab to select each vehicle and view the route for the selected vehicle.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="vrp-custom-data-sets-proc_{context}"><a class="anchor" href="#vrp-custom-data-sets-proc_{context}"></a><a class="link" href="#vrp-custom-data-sets-proc_{context}">7.3. Creating custom data sets with OptaWeb Vehicle Routing</a></h3>
<div class="paragraph">
<p>There is a built-in demo data set consisting of a several large Belgian cities.
If you want to have more demos available in the <strong>Load demo</strong> menu, you can prepare your own data sets.</p>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To do that, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In OptaWeb Vehicle Routing, add a depot and a number of visits by clicking on the map or using geosearch.</p>
</li>
<li>
<p>Click <strong>Export</strong> and save the file in the data set_directory.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The data set directory is the directory specified in the <code>app.demo.data-set-dir</code> property.</p>
</div>
<div class="paragraph">
<p>If the application is running through the <code>runLocally.sh</code> script, the data set directory is set to <code>$HOME/.optaweb-vehicle-routing/dataset</code>.</p>
</div>
<div class="paragraph">
<p>Otherwise, the property is from <code>application.properties</code> and defaults to <code>optaweb-vehicle-routing-distribution-7.39.0.Final-redhat-00001/sources/optaweb-vehicle-routing-standalone/target/local/dataset</code>.</p>
</div>
<div class="paragraph">
<p>You can edit the <code>app.demo.data-set-dir</code> property to specify a diffent data directory.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Edit the YAML file and choose a unique name for the data set.</p>
</li>
<li>
<p>Restart the back end.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After you restart the back end, files in the data set directory appear in the <strong>Load demo</strong> menu.</p>
</div>
</div>
<div class="sect2">
<h3 id="vrp-troubleshooting-proc_{context}"><a class="anchor" href="#vrp-troubleshooting-proc_{context}"></a><a class="link" href="#vrp-troubleshooting-proc_{context}">7.4. Troubleshooting OptaWeb Vehicle Routing</a></h3>
<div class="paragraph">
<p>If the OptaWeb Vehicle Routing behaves unexpectedly, follow this procedure to trouble-shoot.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>OptaWeb Vehicle Routing is running and behaving unexpectedly.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To identify issues, review the back end terminal output log.</p>
</li>
<li>
<p>To resolve issues, remove the back end database:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Stop the back end by pressing <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span> in the back end terminal window.</p>
</li>
<li>
<p>Remove the directory <code>optaweb-vehicle-routing/optaweb-vehicle-routing-backend/local/db</code>.</p>
</li>
<li>
<p>Restart OptaWeb Vehicle Routing.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_optaweb_vehicle_routing_development_guide"><a class="anchor" href="#_optaweb_vehicle_routing_development_guide"></a><a class="link" href="#_optaweb_vehicle_routing_development_guide">8. OptaWeb Vehicle Routing development guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to configure and run the back and front end modules in development mode.</p>
</div>
<div class="sect2">
<h3 id="vrp-structure-con_{context}"><a class="anchor" href="#vrp-structure-con_{context}"></a><a class="link" href="#vrp-structure-con_{context}">8.1. OptaWeb Vehicle Routing project structure</a></h3>
<div class="paragraph">
<p>The OptaWeb Vehicle Routing project is a multi-module Maven project.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="vrp/modules.dot.svg" alt="modules.dot">
</div>
<div class="title">Figure 3. Module dependency tree diagram</div>
</div>
<div class="paragraph">
<p>The back end and front end modules are at the bottom of the module tree. These modules contain the application source code.</p>
</div>
<div class="paragraph">
<p>The standalone module is an assembly module that combines the back end and front end into a single executable JAR file.</p>
</div>
<div class="paragraph">
<p>The distribution module represents the final assembly step.
It takes the standalone application and the documentation and wraps them in an archive that is easy to distribute.</p>
</div>
<div class="paragraph">
<p>The back end and front end are separate projects that you can build and deploy separately.
In fact, they are written in completely different languages and built with different tools.
Both projects have tools that provide a modern developer experience with fast turn-around between code changes and the running application.</p>
</div>
<div class="paragraph">
<p>The next sections describe how to run both back end and front end projects in development mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="vrp-backend-con_{context}"><a class="anchor" href="#vrp-backend-con_{context}"></a><a class="link" href="#vrp-backend-con_{context}">8.2. The OptaWeb Vehicle Routing back end module</a></h3>
<div class="paragraph">
<p>The back end module contains a server-side application that uses OptaPlanner to optimize vehicle routes.
Optimization is a CPU-intensive computation that must avoid any I/O operations in order to perform to its full potential.
Because one of the chief objectives is to minimize travel cost, either time or distance, OptaWeb Vehicle Routing keeps the travel cost information in RAM memory.
While solving, OptaPlanner needs to know the travel cost between every pair of locations entered by the user.
This information is stored in a structure called the <em>distance matrix</em>.</p>
</div>
<div class="paragraph">
<p>When you enter a new location, OptaWeb Vehicle Routing calculates the travel cost between the new location and every other location that has been entered so far, and stores the travel cost in the distance matrix.
The travel cost calculation is performed by the <a href="https://github.com/graphhopper/graphhopper">GraphHopper</a> routing engine.</p>
</div>
<div class="paragraph">
<p>The back end module implements the following additional supporting functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Persistence</p>
</li>
<li>
<p>WebSocket connection for the front end</p>
</li>
<li>
<p>Data set loading, export, and import</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The next sections describe how to configure and run the back end in development mode.</p>
</div>
<div class="sect3">
<h4 id="vrp-backend-spring-proc_{context}"><a class="anchor" href="#vrp-backend-spring-proc_{context}"></a><a class="link" href="#vrp-backend-spring-proc_{context}">8.2.1. Running the OptaWeb Vehicle Routing back end module using the Spring Boot Maven plugin</a></h4>
<div class="paragraph">
<p>You can use the Spring Boot plug-in to run the OptaWeb Vehicle Routing back end module in development mode.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>OptaWeb Vehicle Routing has been configured as described in <a href="#run-vrp-manually-proc_{context}">Configure and run OptaWeb Vehicle Routing manually</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Change directory to the <code>optaweb-vehicle-routing-backend</code> directory.</p>
</li>
<li>
<p>To run the back end in development mode, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">mvn spring-boot:run</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="vrp-backend-intellij-proc_{context}"><a class="anchor" href="#vrp-backend-intellij-proc_{context}"></a><a class="link" href="#vrp-backend-intellij-proc_{context}">8.2.2. Running the OptaWeb Vehicle Routing back end module from IntelliJ IDEA</a></h4>
<div class="paragraph">
<p>You can use the IntelliJ IDEA to run the OptaWeb Vehicle Routing back end module to make it easier to develop your project.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In IntelliJ IDEA, enter  <code>org.optaweb.vehiclerouting.OptaWebVehicleRoutingApplication</code>.
This creates a run configuration that you will edit in the next step.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open the <code>OptaWebVehicleRoutingApplication</code> class in the <strong>Editor</strong> window.</p>
</li>
<li>
<p>Click the green symbol in the editor window gutter and select <strong>Run OptaWebVehicleRoutingApplication</strong>. The run fails because the working directory is set to the root of the project where the back end module directory is expected.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See the <a href="https://www.jetbrains.com/help/idea/running-applications.html"><em>Run Applications</em></a> page on the IntelliJ IDEA web site to learn more about running applications in IntelliJ IDEA.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Select <strong>Run&#8594;Edit Configurations</strong> and then select <strong>Spring Boot&#8594;OptaWebVehicleRoutingApplication</strong>.</p>
</li>
<li>
<p>Set <strong>Program arguments</strong> to <code>--spring.profiles.active=local</code> to activate the Spring profile called <code>local</code>.
This directs the application to use configurations in the <code>application-local.properties</code> file.</p>
</li>
<li>
<p>Change <strong>Working directory</strong> to the back end module (<code>optaweb-vehicle-routing-backend</code>).</p>
</li>
<li>
<p>Set <strong>On Update action</strong> to <strong>Hot swap classes and update trigger file if failed</strong>.
This enables you to use the <strong>Update</strong> action to quickly restart the application.</p>
<div class="paragraph">
<p>For more information, see <a href="https://blog.jetbrains.com/idea/2018/04/spring-and-spring-boot-in-intellij-idea-2018-1/"><em>Spring and Spring Boot in IntelliJ IDEA 2018.1</em></a>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="vrp-auto-restart-con_{context}"><a class="anchor" href="#vrp-auto-restart-con_{context}"></a><a class="link" href="#vrp-auto-restart-con_{context}">8.2.3. Spring Boot automatic restart</a></h4>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-restart">Automatic restart</a>
is provided by Spring Boot DevTools. When you run the OptaWeb Vehicle Routing back end with the Spring Boot Maven plug-in, the application automatically restarts whenever files on the classpath change.
Automatic restart scans files on the classpath, so you only need to recompile your changes to trigger application restart.
No IDE configuration is needed.</p>
</div>
<div class="paragraph">
<p>If your IDE has a compile-on-save feature (for example Eclipse or NetBeans), you just need to save the files that have changed since the last compilation.</p>
</div>
<div class="paragraph">
<p>IntelliJ IDEA saves changes automatically and you need to select either <strong>Build[Recompile]</strong>, which recompiles the file in the active tab, or <strong>Build[Build Project]</strong> which recompiles all changes.
For more information, see <a href="https://www.jetbrains.com/help/idea/compiling-applications.html">Compile and build applications with IntelliJ IDEA</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="vrp-backend-config-proc_{context}"><a class="anchor" href="#vrp-backend-config-proc_{context}"></a><a class="link" href="#vrp-backend-config-proc_{context}">8.2.4. Setting OptaWeb Vehicle Routing back end module configuration properties</a></h4>
<div class="paragraph">
<p>There are several ways that you can set OptaWeb Vehicle Routing back end module configuration properties. The methods in this section are useful if you are running OptaWeb Vehicle Routing locally.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>OptaWeb Vehicle Routing has been downloaded and extracted.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Set configuration properties in the <code>application.properties</code> file:</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-08-06 15:04:53 EDT
</div>
</div>
</body>
</html>